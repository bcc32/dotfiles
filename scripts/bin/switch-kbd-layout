#!/bin/sh

if [[ -n "$1" ]]; then
    setxkbmap $1
else
    layout=$(setxkbmap -query | awk 'END{print $2}')
    case $layout in
        us)
            setxkbmap us -variant colemak
            # set capslock/backspace to repeat
            xset r 66
            ;;
        *)
            setxkbmap us
            xset -r 66
            ;;
    esac
fi
